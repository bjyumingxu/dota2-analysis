# 环境设置说明

## 📋 当前进度

✅ **阶段1完成**：项目结构已创建，所有代码文件已就绪
✅ **阶段2完成80%**：后端API基础功能已完成
✅ **阶段3完成85%**：前端页面基础功能已完成

## 🚀 下一步：安装依赖并运行项目

### 前置要求

1. **Python 3.11+** 
   - 如果还没安装，请访问：https://www.python.org/downloads/
   - 安装时记得勾选"Add Python to PATH"

2. **Node.js 18+**
   - 你已经安装了 v24.11.1 ✅

### 步骤1：设置后端环境

1. **打开终端（PowerShell或CMD）**

2. **进入后端目录**：
```bash
cd backend
```

3. **创建Python虚拟环境**：
```bash
python -m venv venv
```
   - 如果提示找不到python，试试 `py -m venv venv` 或 `python3 -m venv venv`

4. **激活虚拟环境**：
   - **Windows PowerShell**：
     ```bash
     .\venv\Scripts\Activate.ps1
     ```
   - **Windows CMD**：
     ```bash
     venv\Scripts\activate.bat
     ```
   - 如果PowerShell提示"无法运行脚本"，需要先执行：
     ```powershell
     Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
     ```
     然后重新激活虚拟环境

5. **安装后端依赖**：
```bash
pip install -r requirements.txt
```

6. **启动后端服务**：
```bash
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

   看到类似这样的输出就说明成功了：
   ```
   INFO:     Uvicorn running on http://0.0.0.0:8000
   ```

   **保持这个终端窗口打开！**

### 步骤2：设置前端环境

1. **打开新的终端窗口**（保持后端服务在运行）

2. **进入前端目录**：
```bash
cd frontend
```

3. **安装前端依赖**：
```bash
npm install
```
   - 如果npm命令无法运行，可能需要修改PowerShell执行策略（见步骤1.4）

4. **启动前端开发服务器**：
```bash
npm run dev
```

   看到类似这样的输出就说明成功了：
   ```
   VITE v6.x.x  ready in xxx ms
   ➜  Local:   http://localhost:5173/
   ```

### 步骤3：测试功能

1. **打开浏览器**，访问：http://localhost:5173

2. **输入一个Steam账号ID**（例如：123456789）

3. **点击"查询"按钮**

4. **查看结果**：
   - 如果账号存在且有数据，会显示分析结果
   - 如果账号不存在，会显示错误提示

## 🔧 常见问题

### Q1: Python命令找不到
**解决方案**：
- 确保Python已安装并添加到PATH
- 尝试使用 `py` 或 `python3` 命令
- 重新安装Python并勾选"Add Python to PATH"

### Q2: npm命令无法运行
**解决方案**：
在PowerShell中执行：
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```
然后重新打开终端

### Q3: 后端启动失败
**可能原因**：
- 端口8000被占用
- 依赖未正确安装

**解决方案**：
- 检查是否有其他程序占用8000端口
- 重新安装依赖：`pip install -r requirements.txt`

### Q4: 前端启动失败
**可能原因**：
- Node.js版本过低
- 依赖安装失败

**解决方案**：
- 确保Node.js版本 >= 18
- 删除 `node_modules` 文件夹，重新运行 `npm install`

## 📝 测试账号ID

你可以使用以下方式获取测试账号ID：
1. 访问 https://www.opendota.com/
2. 搜索一个玩家
3. 在URL中找到账号ID（例如：/players/123456789）

## ✅ 完成检查清单

- [ ] Python虚拟环境已创建并激活
- [ ] 后端依赖已安装
- [ ] 后端服务运行在 http://localhost:8000
- [ ] 前端依赖已安装
- [ ] 前端服务运行在 http://localhost:5173
- [ ] 浏览器可以访问前端页面
- [ ] 可以成功查询一个账号的数据

完成以上步骤后，我们就可以进入阶段4（联调测试）了！

