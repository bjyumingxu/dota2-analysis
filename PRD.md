# Dota2玩家战绩数据分析网页 PRD文档

## 1. 产品概述

### 1.1 产品定位
一款轻量级的Dota2玩家战绩数据分析工具，用户通过输入Steam账号ID即可快速查看近20场游戏战绩的深度分析报告。

### 1.2 产品目标
- 为Dota2玩家提供快速、直观的战绩分析
- 帮助玩家了解自己的游戏表现趋势
- 识别最佳队友和需要改进的配合关系
- 无需注册登录，即开即用

### 1.3 目标用户
- Dota2游戏玩家
- 希望分析自己游戏数据的用户
- 想要了解队友配合情况的玩家

## 2. 功能需求

### 2.1 核心功能：战绩查询
**功能描述**：用户输入Steam账号ID（account_id），系统查询并展示该玩家近20场游戏战绩数据。

**输入要求**：
- 输入框：支持输入Steam account_id（纯数字）
- 输入验证：仅接受数字格式
- 查询按钮：触发数据查询

**输出要求**：
- 加载状态：查询时显示加载动画
- 错误处理：账号不存在或数据获取失败时显示友好提示
- 数据展示：成功获取数据后展示分析报告

### 2.2 功能模块一：一句话点评
**功能描述**：基于近20场战绩数据，自动生成一句话概括性点评。

**数据来源**：
- KDA（击杀/死亡/助攻）数据
- 胜率数据
- 其他关键指标

**点评逻辑**：
- 分析KDA平均值、胜率、表现趋势
- 根据数据特征生成个性化点评
- 示例："近期状态火热，KDA 3.2，胜率65%，carry能力突出"

**展示方式**：
- 页面顶部醒目位置
- 使用卡片样式展示
- 字体加粗，突出显示

### 2.3 功能模块二：近期胜率曲线
**功能描述**：以折线图形式展示近20场游戏的胜率变化趋势。

**图表要求**：
- X轴：游戏场次（1-20场，按时间顺序）
- Y轴：累计胜率（百分比）
- 折线图：连接各场次胜率点
- 节点：每个节点代表一场游戏

**交互功能**：
- 鼠标悬停（hover）在节点上时，显示该场游戏的详细信息：
  - 游戏时间
  - 胜负结果
  - KDA数据
  - 使用英雄
  - 游戏时长
- 工具提示（Tooltip）样式清晰易读

**数据计算**：
- 第1场：胜率 = 第1场结果（1或0）* 100%
- 第N场：胜率 = 前N场胜利场次 / N * 100%

### 2.4 功能模块三：最佳战友
**功能描述**：展示近20场中与玩家组队次数超过1次的队友，按组队胜场次数排序。

**数据筛选**：
- 仅统计组队次数 > 1 的队友
- 计算与每位队友的组队胜场数
- 按胜场数降序排列

**展示方式**：
- 使用树状图（Tree Map）或柱状图展示
- 每个节点/柱子代表一个队友
- 节点大小/柱子高度代表组队胜场数
- 显示队友信息：
  - 队友Steam账号ID或昵称（如可获取）
  - 组队次数
  - 组队胜场数
  - 组队胜率

**交互功能**：
- 鼠标悬停显示详细信息
- 点击可查看该队友的详细战绩（可选功能）

### 2.5 功能模块四：最爱损友
**功能描述**：展示近20场中与玩家组队次数超过1次的队友，按组队败场次数排序。

**数据筛选**：
- 仅统计组队次数 > 1 的队友
- 计算与每位队友的组队败场数
- 按败场数降序排列

**展示方式**：
- 使用树状图（Tree Map）或柱状图展示
- 每个节点/柱子代表一个队友
- 节点大小/柱子高度代表组队败场数
- 显示队友信息：
  - 队友Steam账号ID或昵称（如可获取）
  - 组队次数
  - 组队败场数
  - 组队败率

**交互功能**：
- 鼠标悬停显示详细信息
- 与"最佳战友"模块形成对比展示

### 2.6 功能模块五：数据概括
**功能描述**：以数据卡片形式展示近20场游戏的关键统计数据。

**包含数据**：
- **击杀数**：总击杀数、平均击杀数
- **死亡数**：总死亡数、平均死亡数
- **助攻数**：总助攻数、平均助攻数
- **正补数**：总正补数、平均正补数
- **英雄伤害**：总伤害、平均伤害
- **其他可选数据**：
  - 总游戏时长
  - 使用英雄列表
  - 最常用英雄

**展示方式**：
- 使用数据卡片网格布局
- 每个数据项显示：
  - 数据名称
  - 总计数值
  - 平均值
  - 可选：趋势图标（上升/下降）

## 3. 技术需求

### 3.1 前端技术
- **框架**：建议使用Vue 3 + TypeScript或React
- **图表库**：ECharts / Chart.js / D3.js（用于胜率曲线和树状图）
- **UI框架**：Element Plus / Ant Design Vue（可选）
- **HTTP请求**：Axios

### 3.2 后端技术
- **API框架**：Node.js + Express 或 Python + FastAPI
- **数据源**：OpenDota API（https://www.opendota.com/）
- **API端点**：
  - 获取玩家最近比赛：`/api/players/{account_id}/recentMatches`
  - 获取比赛详情：`/api/matches/{match_id}`
  - 获取玩家信息：`/api/players/{account_id}`

### 3.3 数据获取流程
1. 用户输入account_id
2. 调用OpenDota API获取最近20场比赛ID列表
3. 批量获取每场比赛的详细数据
4. 前端处理数据，生成分析报告
5. 渲染各个功能模块

### 3.4 性能要求
- 数据加载时间：< 5秒
- 图表渲染流畅，无卡顿
- 支持响应式设计，适配移动端

## 4. UI/UX设计

### 4.1 页面布局
- **顶部**：标题 + 查询输入框
- **主体区域**：
  - 一句话点评（顶部卡片）
  - 近期胜率曲线（左侧，占较大区域）
  - 最佳战友 + 最爱损友（右侧，并排显示）
  - 数据概括（底部，网格布局）

### 4.2 设计风格
参考 [wago.io](https://wago.io/) 的视觉风格，采用以下设计规范：

#### 4.2.1 整体视觉风格
- **主题色调**：深色背景（#1a1a1a 至 #2d2d2d），但不过于暗沉，保持适度的对比度
- **卡片设计**：采用圆角卡片（border-radius: 8-12px），带有轻微阴影（box-shadow: 0 2px 8px rgba(0,0,0,0.15)）
- **边框风格**：卡片使用细边框（1px solid rgba(255,255,255,0.1)），营造层次感
- **背景层次**：主背景深色，卡片背景稍亮（#252525），形成清晰的视觉层次

#### 4.2.2 色彩方案
- **主色调**：Dota2主题色
  - 胜利/正面数据：使用蓝色系（#4A90E2, #5BA3F5）
  - 失败/负面数据：使用红色系（#E24A4A, #F55B5B）
  - 中性数据：使用灰色系（#6B7280, #9CA3AF）
- **强调色**：使用柔和的强调色突出重要信息（如金色 #F5A623 用于高光数据）
- **文字颜色**：
  - 主标题：白色（#FFFFFF）
  - 正文：浅灰色（#E5E5E5, #CCCCCC）
  - 次要信息：中灰色（#999999）

#### 4.2.3 字体设计
- **字体选择**：使用现代无衬线字体（如 Inter, Roboto, 或系统默认字体栈）
- **字体层次**：
  - 页面标题：24-32px，加粗（font-weight: 700）
  - 模块标题：18-20px，半粗（font-weight: 600）
  - 正文：14-16px，常规（font-weight: 400）
  - 辅助文字：12-14px，常规（font-weight: 400）
- **行高**：保持1.5-1.6的行高，确保可读性

#### 4.2.4 间距与布局
- **页面边距**：页面左右边距 24-32px（移动端 16px）
- **卡片间距**：卡片之间间距 16-24px
- **内容内边距**：卡片内部 padding 20-24px
- **网格布局**：使用灵活的网格系统，确保各模块对齐整齐

#### 4.2.5 交互元素
- **输入框**：
  - 深色背景（#2d2d2d），白色边框（1px solid rgba(255,255,255,0.2)）
  - 聚焦时边框高亮（使用主题蓝色）
  - 圆角 6-8px
  - 内边距 12-16px
- **按钮**：
  - 主按钮：使用主题蓝色背景，白色文字，圆角 6px
  - 悬停效果：轻微变亮（opacity: 0.9 或 brightness: 1.1）
  - 点击反馈：轻微缩放（scale: 0.98）
- **图表元素**：
  - 图表背景透明或使用卡片背景色
  - 坐标轴使用半透明白色（rgba(255,255,255,0.3)）
  - 数据点使用主题色，带有轻微发光效果

#### 4.2.6 视觉效果
- **阴影**：使用柔和的阴影增强层次感，避免过于强烈的阴影
- **渐变**：在关键数据展示处使用轻微渐变（如胜率高的数据使用绿色渐变）
- **动画**：使用平滑的过渡动画（transition: 0.2s-0.3s ease），避免突兀的跳转
- **加载状态**：使用优雅的骨架屏（Skeleton Screen）或加载动画，保持视觉连续性

#### 4.2.7 响应式设计
- **桌面端**：最大宽度 1400px，居中显示
- **平板端**：适配 768px-1024px，调整卡片布局为2列
- **移动端**：单列布局，优化触摸交互区域（最小44x44px）

### 4.3 交互反馈
- 查询时显示加载动画
- 数据加载完成后平滑展示
- 错误提示友好明确
- 图表交互流畅

## 5. 数据安全与隐私

### 5.1 数据使用
- 仅使用OpenDota公开API数据
- 不存储用户个人信息
- 不收集用户查询记录

### 5.2 错误处理
- API调用失败：显示"数据获取失败，请稍后重试"
- 账号不存在：显示"未找到该账号数据"
- 网络错误：显示"网络连接异常"

## 6. 开发优先级

### Phase 1（MVP）
1. 基础查询功能
2. 一句话点评
3. 数据概括
4. 近期胜率曲线（基础版）

### Phase 2
1. 最佳战友模块
2. 最爱损友模块
3. 图表交互优化

### Phase 3
1. UI美化
2. 性能优化
3. 移动端适配

## 7. 成功指标

- 页面加载速度 < 3秒
- 数据查询成功率 > 95%
- 用户可在一分钟内理解所有数据
- 图表交互响应时间 < 100ms

